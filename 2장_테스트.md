# 2ì¥. í…ŒìŠ¤íŠ¸




## ğŸ« í…ŒìŠ¤íŠ¸ ê°œìš”

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€?

* ì–´ë–¤ ì½”ë“œë¥¼ ì‘ì„±í–ˆì„ ë•Œ, ì‘ì„±í•œ í”„ë¡œê·¸ë˜ë¨¸ ìì‹ ì´ ê·¸ ì½”ë“œì—ëŒ€í•œ í™•ì‹ ì„ ì–»ê¸° ìœ„í•¨

* í…ŒìŠ¤íŠ¸ë¥¼ í•˜ì§€ ì•Šì•˜ì„ ì‹œ, ì°¨í›„ì— ë°œìƒí•˜ëŠ” ë¬¸ì œì ì´ ì–´ë””ì—ì„œ ë°œìƒí–ˆëŠ”ì§€ ì°¾ëŠ” ê³ ìƒì´ ë”í•´ì§€ë©°, ì°¾ê¸°ë„ ì–´ë µë‹¤.

* í…ŒìŠ¤íŠ¸ëŠ” **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**ë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•œë‹¤.

* **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** : ì‘ì€ ë‹¨ìœ„ì˜ ì½”ë“œì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒ

* ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” **í•˜ë‚˜ì˜ ê´€ì‹¬ì‚¬**ì— ì§‘ì¤‘í•´ì„œ íš¨ìœ¨ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ë§Œí•œ ë²”ìœ„ë¡œ ìˆ˜í–‰í•´ì•¼ í•œë‹¤. (ë‹¨ì¼ ì±…ì„ ì›ì¹™ê³¼ ë¹„ìŠ·)

* ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì´ìš©í•œ **í™•ì¸ëŒ€ìƒ**, **ì¡°ê±´**ì€ ê°„ë‹¨í•˜ê³  ëª…í™•í• ìˆ˜ë¡ ì¢‹ë‹¤.


### 2. ìë™ìˆ˜í–‰ í…ŒìŠ¤íŠ¸ ì½”ë“œ

* í…ŒìŠ¤íŠ¸ëŠ” ìë™ìœ¼ë¡œ ìˆ˜í–‰ë˜ë„ë¡ ì½”ë“œë¡œ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

* í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì…ë ¥ê°’ì„ ìë™ìœ¼ë¡œ ê°€ì§€ê²Œ ë§Œë“ ë‹¤.

* ê²°ê³¼ê°’ì— ëŒ€í•œ ê²€ì¦ë„ ìë™ìœ¼ë¡œ ê°’ì„ ë¹„êµí•˜ë„ë¡ ë§Œë“ ë‹¤.


### 3. DAOë¥¼ ì´ìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìë™í™”

1. **INSERT** ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œ ì‘ì„±

1. **SELECT** ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œ ì‘ì„±

1. **INSERT** í–ˆë˜ ë°ì´í„°ì™€, **SELECT** í•œ ë°ì´í„°ë¥¼ ê°ê° ë¹„êµ

    * í•˜ë‚˜ë¼ë„ ì¼ì§€í•˜ì§€ ì•Šì„ ì‹œ, ``í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ (ì†ì„±ëª…)`` ì˜ í˜•ì‹ìœ¼ë¡œ ì‹¤íŒ¨ ë©”ì‹œì§€ ì¶œë ¥

    * ëª¨ë‘ ì¼ì¹˜í•  ê²½ìš°, ``í…ŒìŠ¤íŠ¸ ì„±ê³µ`` ì˜ í˜•ì‹ìœ¼ë¡œ ì„±ê³µ ë©”ì‹œì§€ ì¶œë ¥




## ğŸ« JUnit (í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬)

* JUnitìœ¼ë¡œ ì‚¬ìš©í•  **í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ**ì˜ ì¡°ê±´

    1. ``public`` í•œì •ìì¸ ë©”ì„œë“œì¼ ê²ƒ

    1. ë°˜í™˜ê°’ì´ **void**ì¼ ê²ƒ

    1. ì¸ìê°’ì´ ì—†ì„ ê²ƒ

    1. í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì— **@Test** ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì¼ ê²ƒ

* ë¼ì´ë¸ŒëŸ¬ë¦¬ : ``com.springsource.org.junit-4.7.0.jar``

* **ëª¨ë“  ì½”ë“œì˜ ìˆ˜ì • í›„ì—ëŠ”, ê¼­ ê´€ë ¨ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì!**


### 1. JUnit ì‘ì„±í•˜ê¸°

* **INSERT**ê°’ê³¼ **SELECT**ê°’ì„ ë¹„êµí•  ë•Œ ì‚¬ìš©í–ˆë˜ ``if()``ëŒ€ì‹ , **``assertThat()``** ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

* ``assertThat(â‘ , â‘¡)``

    * â‘  ì¸ìê°’ : ë¹„êµí•  ê°’ 1

    * â‘¡ ì¸ìê°’ : ``CoreMatcher``ì˜ ìŠ¤í…Œí‹± ë©”ì„œë“œì¸ **``is(ë¹„êµí•  ê°’ 2)``**

        ``CoreMatcher.is()``ì‚¬ìš©í•˜ê¸° : **``import static org.hamcrest.CoreMatchers.is;``** í•„ìš”

    * ë‘ ì¸ìê°’ì´ ì¼ì¹˜í•˜ë©´, í…ŒìŠ¤íŠ¸ ì„±ê³µ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³ , ì‹¤íŒ¨í•˜ë©´ ì‹¤íŒ¨ ë©”ì‹œì§€ì™€ ë‚´ì—­ì„ ì¶œë ¥í•´ ì¤€ë‹¤.


### 2. JUnit ì‹¤í–‰í•˜ê¸°

> ``JUnitCore``ë¥¼ ì´ìš©í•œ JUnit ì‹¤í–‰

* JUnitì€ ìŠ¤í”„ë§ê³¼ ê°™ì€ Javaë¡œ ë§Œë“  í”„ë¡œê·¸ë¨ì´ê¸° ë•Œë¬¸ì— ``main()``ë©”ì„œë“œì—ì„œ ì‹¤í–‰ì‹œì¼œì¤˜ì•¼ í•œë‹¤.

* JUnitì„ ì‹¤í–‰ì‹œí‚¬ í´ë˜ìŠ¤ì— ``main()``ë©”ì„œë“œë¥¼ ë§Œë“¤ê³  **``@Test``**ë©”ì„œë“œë¥¼ ê°€ì§€ëŠ” í´ë˜ìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ JUnitì´ ë™ì‘í•œë‹¤.

```java
    import org.hamcrest.CoreMatchers;
    import org.junit.Assert;
    import org.junit.Test;
    
    import static org.junit.Assert.assertThat;
    import static org.hamcrest.CoreMatchers.is;
    
    public class MyTest {
        @Test
        public void í…ŒìŠ¤íŠ¸_ë©”ì„œë“œ() {

            assertThat(ê°’1, is(ê°’2));
        }
    }
```

```java
    import org.junit.runner.JUnitCore;

    public class MyJUnitTester {
        public static void main(String[] args) {
            JUnitCore.main("tester.MyTest");
        }
    }
```

> ``IDE(ì´í´ë¦½ìŠ¤)``ë¥¼ ì´ìš©í•œ JUnit ì‹¤í–‰

* **``JUnitCore.main()``**ì´ í•„ìš”ì—†ë‹¤.

* **@Test** ë©”ì„œë“œë§Œ ìˆìœ¼ë©´ ì‹¤í–‰ê°€ëŠ¥

* ì´í´ë¦½ìŠ¤ì—ì„œ ``Run As`` â¡ ``JUnit Test`` ì‹¤í–‰

* ë‹¨ì¶•í‚¤ : ``alt + shift + x`` â¡ ``t``

* IDEë¥¼ ì‚¬ìš©í•  ê²½ìš°, íŒ¨í‚¤ì§€ë¥¼ ì„ íƒí•˜ê³  ì‹¤í–‰í•  ê²½ìš°, í•´ë‹¹ íŒ¨í‚¤ì§€ì˜ ëª¨ë“  ``@Test``ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œë‹¤.

* í”„ë¡œì íŠ¸ ë‹¨ìœ„ë¡œë„ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤.


### 3. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±ì‹œ, ì£¼ì˜ì‚¬í•­

* ì½”ë“œê°€ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤ë©´, ë™ì¼í•œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

* ì™¸ë¶€í™˜ê²½(ì˜ˆ: DBì— ë‚¨ì•„ìˆëŠ” ë°ì´í„°)ì— ì˜í•´ ì˜í–¥ì„ ë°›ì•„ì„  ì•Šëœë‹¤.

* í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆœì„œê°€ ë³€í•˜ë”ë¼ë„, ë™ì¼í•œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì–»ì–´ì•¼ í•œë‹¤.

* **ì„±ì˜ì—†ëŠ”(ì—‰ì„±í•œ) í…ŒìŠ¤íŠ¸ëŠ” ê°€ì¥ ìœ„í—˜í•˜ë‹¤.**



## ğŸ« JUnit - ì˜ˆì™¸ê°€ ë°œìƒí•´ì•¼ ì„±ê³µì¸ í…ŒìŠ¤íŠ¸

> DBì—ì„œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë°ì´í„°ë¥¼ ì¡°íšŒ í•  ë•Œ, ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ë„ë¡ ë§Œë“¤ì–´ ë³´ì.

* ì—†ëŠ” ë°ì´í„° ì¡°íšŒì‹œ ë°œìƒì‹œí‚¬ ì˜ˆì™¸ : EmptyResultDataAccessException

* ``org.springframework.transaction-3.0.7.RELEASE.jar`` ë¼ì´ë¸ŒëŸ¬ë¦¬ì— í•´ë‹¹ ì˜ˆì™¸í´ë˜ìŠ¤ê°€ ìˆë‹¤.

* ``import org.springframework.dao.EmptyResultDataAccessException`` í•„ìš”

1. DAOí´ë˜ìŠ¤ì—ì„œ ``select``ê²°ê³¼ê°€ ì—†ë‹¤ë©´, **``EmptyResultDataAccessException``** ê°ì²´ë¥¼ ë˜ì§„ë‹¤.

1. ``@Test``ë©”ì„œë“œì˜ ì„ ì–¸ì„ ë‹¤ìŒê³¼ ê°™ì´ í•œë‹¤.

```java
    @Test(expected = EmptyResultDataAccessException.class)
    public void ë©”ì„œë“œëª…() {}
```