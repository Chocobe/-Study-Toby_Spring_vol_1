# 2ì¥. í…ŒìŠ¤íŠ¸




## ğŸ« í…ŒìŠ¤íŠ¸ ê°œìš”

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€?

* ì–´ë–¤ ì½”ë“œë¥¼ ì‘ì„±í–ˆì„ ë•Œ, ì‘ì„±í•œ í”„ë¡œê·¸ë˜ë¨¸ ìì‹ ì´ ê·¸ ì½”ë“œì—ëŒ€í•œ í™•ì‹ ì„ ì–»ê¸° ìœ„í•¨

* í…ŒìŠ¤íŠ¸ë¥¼ í•˜ì§€ ì•Šì•˜ì„ ì‹œ, ì°¨í›„ì— ë°œìƒí•˜ëŠ” ë¬¸ì œì ì´ ì–´ë””ì—ì„œ ë°œìƒí–ˆëŠ”ì§€ ì°¾ëŠ” ê³ ìƒì´ ë”í•´ì§€ë©°, ì°¾ê¸°ë„ ì–´ë µë‹¤.

* í…ŒìŠ¤íŠ¸ëŠ” **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**ë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•œë‹¤.

* **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** : ì‘ì€ ë‹¨ìœ„ì˜ ì½”ë“œì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒ

* ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” **í•˜ë‚˜ì˜ ê´€ì‹¬ì‚¬**ì— ì§‘ì¤‘í•´ì„œ íš¨ìœ¨ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ë§Œí•œ ë²”ìœ„ë¡œ ìˆ˜í–‰í•´ì•¼ í•œë‹¤. (ë‹¨ì¼ ì±…ì„ ì›ì¹™ê³¼ ë¹„ìŠ·)

* ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì´ìš©í•œ **í™•ì¸ëŒ€ìƒ**, **ì¡°ê±´**ì€ ê°„ë‹¨í•˜ê³  ëª…í™•í• ìˆ˜ë¡ ì¢‹ë‹¤.


### 2. ìë™ìˆ˜í–‰ í…ŒìŠ¤íŠ¸ ì½”ë“œ

* í…ŒìŠ¤íŠ¸ëŠ” ìë™ìœ¼ë¡œ ìˆ˜í–‰ë˜ë„ë¡ ì½”ë“œë¡œ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

* í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì…ë ¥ê°’ì„ ìë™ìœ¼ë¡œ ê°€ì§€ê²Œ ë§Œë“ ë‹¤.

* ê²°ê³¼ê°’ì— ëŒ€í•œ ê²€ì¦ë„ ìë™ìœ¼ë¡œ ê°’ì„ ë¹„êµí•˜ë„ë¡ ë§Œë“ ë‹¤.


### 3. DAOë¥¼ ì´ìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìë™í™”

1. **INSERT** ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œ ì‘ì„±

1. **SELECT** ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œ ì‘ì„±

1. **INSERT** í–ˆë˜ ë°ì´í„°ì™€, **SELECT** í•œ ë°ì´í„°ë¥¼ ê°ê° ë¹„êµ

    * í•˜ë‚˜ë¼ë„ ì¼ì§€í•˜ì§€ ì•Šì„ ì‹œ, ``í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ (ì†ì„±ëª…)`` ì˜ í˜•ì‹ìœ¼ë¡œ ì‹¤íŒ¨ ë©”ì‹œì§€ ì¶œë ¥

    * ëª¨ë‘ ì¼ì¹˜í•  ê²½ìš°, ``í…ŒìŠ¤íŠ¸ ì„±ê³µ`` ì˜ í˜•ì‹ìœ¼ë¡œ ì„±ê³µ ë©”ì‹œì§€ ì¶œë ¥


---


## ğŸ« JUnit (í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬)

* JUnitìœ¼ë¡œ ì‚¬ìš©í•  **í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ**ì˜ ì¡°ê±´

    1. ``public`` í•œì •ìì¸ ë©”ì„œë“œì¼ ê²ƒ

    1. ë°˜í™˜ê°’ì´ **void**ì¼ ê²ƒ

    1. ì¸ìê°’ì´ ì—†ì„ ê²ƒ

    1. í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì— **@Test** ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì¼ ê²ƒ

* ë¼ì´ë¸ŒëŸ¬ë¦¬ : ``com.springsource.org.junit-4.7.0.jar``

* **ëª¨ë“  ì½”ë“œì˜ ìˆ˜ì • í›„ì—ëŠ”, ê¼­ ê´€ë ¨ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì!**


### 1. JUnit ì‘ì„±í•˜ê¸°

* **INSERT**ê°’ê³¼ **SELECT**ê°’ì„ ë¹„êµí•  ë•Œ ì‚¬ìš©í–ˆë˜ ``if()``ëŒ€ì‹ , **``assertThat()``** ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

* ``assertThat(â‘ , â‘¡)``

    * â‘  ì¸ìê°’ : ë¹„êµí•  ê°’ 1

    * â‘¡ ì¸ìê°’ : ``CoreMatcher``ì˜ ìŠ¤í…Œí‹± ë©”ì„œë“œì¸ **``is(ë¹„êµí•  ê°’ 2)``**

        ``CoreMatcher.is()``ì‚¬ìš©í•˜ê¸° : **``import static org.hamcrest.CoreMatchers.is;``** í•„ìš”

    * ë‘ ì¸ìê°’ì´ ì¼ì¹˜í•˜ë©´, í…ŒìŠ¤íŠ¸ ì„±ê³µ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³ , ì‹¤íŒ¨í•˜ë©´ ì‹¤íŒ¨ ë©”ì‹œì§€ì™€ ë‚´ì—­ì„ ì¶œë ¥í•´ ì¤€ë‹¤.


### 2. JUnit ì‹¤í–‰í•˜ê¸°

> ``JUnitCore``ë¥¼ ì´ìš©í•œ JUnit ì‹¤í–‰

* JUnitì€ ìŠ¤í”„ë§ê³¼ ê°™ì€ Javaë¡œ ë§Œë“  í”„ë¡œê·¸ë¨ì´ê¸° ë•Œë¬¸ì— ``main()``ë©”ì„œë“œì—ì„œ ì‹¤í–‰ì‹œì¼œì¤˜ì•¼ í•œë‹¤.

* JUnitì„ ì‹¤í–‰ì‹œí‚¬ í´ë˜ìŠ¤ì— ``main()``ë©”ì„œë“œë¥¼ ë§Œë“¤ê³  **``@Test``**ë©”ì„œë“œë¥¼ ê°€ì§€ëŠ” í´ë˜ìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ JUnitì´ ë™ì‘í•œë‹¤.

```java
    import org.hamcrest.CoreMatchers;
    import org.junit.Assert;
    import org.junit.Test;
    
    import static org.junit.Assert.assertThat;
    import static org.hamcrest.CoreMatchers.is;
    
    public class MyTest {
        @Test
        public void í…ŒìŠ¤íŠ¸_ë©”ì„œë“œ() {

            assertThat(ê°’1, is(ê°’2));
        }
    }
```

```java
    import org.junit.runner.JUnitCore;

    public class MyJUnitTester {
        public static void main(String[] args) {
            JUnitCore.main("tester.MyTest");
        }
    }
```

> ``IDE(ì´í´ë¦½ìŠ¤)``ë¥¼ ì´ìš©í•œ JUnit ì‹¤í–‰

* **``JUnitCore.main()``**ì´ í•„ìš”ì—†ë‹¤.

* **@Test** ë©”ì„œë“œë§Œ ìˆìœ¼ë©´ ì‹¤í–‰ê°€ëŠ¥

* ì´í´ë¦½ìŠ¤ì—ì„œ ``Run As`` â¡ ``JUnit Test`` ì‹¤í–‰

* ë‹¨ì¶•í‚¤ : ``alt + shift + x`` â¡ ``t``

* IDEë¥¼ ì‚¬ìš©í•  ê²½ìš°, íŒ¨í‚¤ì§€ë¥¼ ì„ íƒí•˜ê³  ì‹¤í–‰í•  ê²½ìš°, í•´ë‹¹ íŒ¨í‚¤ì§€ì˜ ëª¨ë“  ``@Test``ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œë‹¤.

* í”„ë¡œì íŠ¸ ë‹¨ìœ„ë¡œë„ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤.


### 3. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±ì‹œ, ì£¼ì˜ì‚¬í•­

* ì½”ë“œê°€ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤ë©´, ë™ì¼í•œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

* ì™¸ë¶€í™˜ê²½(ì˜ˆ: DBì— ë‚¨ì•„ìˆëŠ” ë°ì´í„°)ì— ì˜í•´ ì˜í–¥ì„ ë°›ì•„ì„  ì•Šëœë‹¤.

* í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆœì„œê°€ ë³€í•˜ë”ë¼ë„, ë™ì¼í•œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì–»ì–´ì•¼ í•œë‹¤.

* **ì„±ì˜ì—†ëŠ”(ì—‰ì„±í•œ) í…ŒìŠ¤íŠ¸ëŠ” ê°€ì¥ ìœ„í—˜í•˜ë‹¤.**


---


## ğŸ« JUnit - ì˜ˆì™¸ê°€ ë°œìƒí•´ì•¼ ì„±ê³µì¸ í…ŒìŠ¤íŠ¸

> DBì—ì„œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë°ì´í„°ë¥¼ ì¡°íšŒ í•  ë•Œ, ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ë„ë¡ ë§Œë“¤ì–´ ë³´ì.

* ì—†ëŠ” ë°ì´í„° ì¡°íšŒì‹œ ë°œìƒì‹œí‚¬ ì˜ˆì™¸ : EmptyResultDataAccessException

* ``org.springframework.transaction-3.0.7.RELEASE.jar`` ë¼ì´ë¸ŒëŸ¬ë¦¬ì— í•´ë‹¹ ì˜ˆì™¸í´ë˜ìŠ¤ê°€ ìˆë‹¤.

* ``import org.springframework.dao.EmptyResultDataAccessException`` í•„ìš”

1. DAOí´ë˜ìŠ¤ì—ì„œ ``select``ê²°ê³¼ê°€ ì—†ë‹¤ë©´, **``EmptyResultDataAccessException``** ê°ì²´ë¥¼ ë˜ì§„ë‹¤.

1. ``@Test``ë©”ì„œë“œì˜ ì„ ì–¸ì„ ë‹¤ìŒê³¼ ê°™ì´ í•œë‹¤.

```java
    @Test(expected = EmptyResultDataAccessException.class)
    public void ë©”ì„œë“œëª…() {}
```


---


## ğŸ« JUnit - í…ŒìŠ¤íŠ¸ ì½”ë“œ ê°œì„  (@Before, í”½ìŠ¤ì²˜)

### 1. JUnitì˜ ë™ì‘ ë°©ì‹

* ì¡°ê±´(``public, ë°˜í™˜ê°’X, ì¸ìX``)ì— ë§ëŠ” **@Test** ë©”ì„œë“œë¥¼ ëª¨ë‘ ì°¾ëŠ”ë‹¤.

1. **@Test** ë©”ì„œë“œ **í•˜ë‚˜ë‹¹** í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.

1. **@Before** ë©”ì„œë“œê°€ ìˆë‹¤ë©´, ì‹¤í–‰í•œë‹¤.

1. **@Test** ë©”ì„œë“œ í•˜ë‚˜ë¥¼ í˜¸ì¶œí•˜ì—¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì €ì¥í•œë‹¤.

1. **@After** ë©”ì„œë“œê°€ ìˆë‹¤ë©´, ì‹¤í–‰í•œë‹¤.

* ìœ„ì˜ 1 ~ 4 ê³¼ì •ì„ **@Test** ë©”ì„œë“œ ê°œìˆ˜ë§Œí¼ ë°˜ë³µí•œë‹¤.

* ëª¨ë“  ê²°ê³¼ë¥¼ ì¢…í•©í•´ì„œ ì¶œë ¥í•œë‹¤.

* **@Before** ë©”ì„œë“œëŠ” **@Test** ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— ìˆ˜í–‰í•˜ëŠ” ë©”ì„œë“œ

    ì¼ë¶€ **@Test** ë©”ì„œë“œì—ì„œë§Œ ì„ í–‰ë˜ì–´ì•¼ í•  ë™ì‘ì€, ë³„ë„ì˜ ë©”ì„œë“œë¡œ ì¶”ì¶œí•˜ì—¬ **@Test** ë©”ì„œë“œ ë‚´ì—ì„œ í˜¸ì¶œí•˜ëŠ”ê²Œ ë‚«ë‹¤.

* **@Test** ë©”ì„œë“œê°€ ì†í•œ í´ë˜ìŠ¤ì˜ ëª¨ë“  **@Test**í´ë˜ìŠ¤ê°€ ê³µí†µìœ¼ë¡œ ì„ í–‰ì‘ì—… ë˜ì•¼ í•  ë™ì‘ì„ ì •ì˜í•˜ë©´ ì¢‹ë‹¤.

* **@After** ë©”ì„œë“œëŠ” **@Test** ë©”ì„œë“œê°€ ì¢…ë£Œëœ í›„, ì‹¤í–‰í•  ë™ì‘ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤.


### 2. JUnitì˜ í”½ìŠ¤ì²˜(fixture)

* **@Test** ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ”ë° í•„ìš”í•œ **ì •ë³´**, **ê°ì²´** ë¥¼ **í”½ìŠ¤ì²˜(fixture)** ë¼ê³  í•œë‹¤.

* **@Before**, **@Test**, **@After** ë©”ì„œë“œ ê°„ì— ì£¼ê³ ë°›ì„ **í”½ìŠ¤ì²˜(fixture)**ê°€ ìˆë‹¤ë©´, í•„ë“œë³€ìˆ˜ë¡œ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ë©´ ëœë‹¤.


### 3. ìŠ¤í”„ë§ í…ŒìŠ¤íŠ¸ ì»¨í…ìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ì‚¬ìš©í•˜ê¸°

* ``ApplicationContext``ê°€ ìƒì„±ë  ë•ŒëŠ”, ì†í•˜ëŠ” ëª¨ë“  ``Bean``ê°ì²´ê°€ ìƒì„± ë° ì´ˆê¸°í™” ë˜ê¸° ë•Œë¬¸ì—,

    ë§¤ë²ˆ ``@Test`` ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•  ë•Œë§ˆë‹¤ ``ApplicationContext``ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ ë¬¸ì œì ì´ ëœë‹¤.

* ``ApplicationContext``ëŠ” ëª¨ë“  í…ŒìŠ¤íŠ¸ì—ì„œ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ì‚¬ìš©í•´ë„ ë˜ê¸° ë•Œë¬¸ì—, ì „ í…ŒìŠ¤íŠ¸ ê³¼ì •ì—ì„œ ì˜¤ì§ í•œë²ˆë§Œ ê°ì²´ë¥¼ ìƒì„±í•˜ê²Œ í•œë‹¤.

> í…ŒìŠ¤íŠ¸ ê³¼ì • ì¤‘, ``ApplicationContext`` ê°ì²´ë¥¼ ë”± í•œë²ˆë§Œ ìƒì„±í•˜ê²Œ ë§Œë“¤ê¸°

1. ``**org.springframework.test-3.0.7.RELEASE.jar**`` ë¼ì´ë¸ŒëŸ¬ë¦¬ í•„ìš”

1. ``ApplicationContext`` íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³ , **@AutoWired** ë¥¼ ë¶™ì—¬ì¤€ë‹¤.

1. í˜„ì¬ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ë‹¤ìŒ ë‘ê°€ì§€ ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤€ë‹¤.

    * **@RunWith(SpringJUnit4ClassRunner.class)**

        JUnit í”„ë ˆì„ì›Œí¬ì˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ë°©ë²•ì„ í™•ì¥í•˜ëŠ” ì• ë…¸í…Œì´ì…˜

    * **@ContextConfiguration("/ê²½ë¡œ")**

        ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤„ **ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸**ì˜ **ì„¤ì •íŒŒì¼**ì„ ì§€ì •

```java
    @RunWith(SpringJUnit4ClassRunner.class)
    @ContextConfiguration("/applicationContext.xml") ë˜ëŠ” (locations="applicationContext.xml")
    public class UserDaoTest {

        @AutoWired
        private ApplicationContext context;
        
        @Test
        public void í…ŒìŠ¤íŠ¸ë©”ì„œë“œ() { }
    }
```

> **@RunWith(SpringJUnit4ClassRunner.class)** ë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ê²½ìš°, **ì„¤ì •íŒŒì¼** ì´ **ë™ì¼**í•˜ë‹¤ë©´..

* **í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤**ê°„ì—ë„ ë™ì¼í•œ **ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸**ë¥¼ ê³µìœ í•´ì„œ ì‚¬ìš©í•˜ê²Œ í•´ì¤€ë‹¤.

* ì¦‰, **ì„¤ì •íŒŒì¼** í•˜ë‚˜ì— ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ê°ì²´ë¥¼ í•˜ë‚˜ë§Œ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•˜ê²Œ í•´ì¤€ë‹¤.


---


## ğŸ« JUnit - @AutoWried

> ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ì— ì„¤ì •í•œ **ë¹ˆ(Bean)** ê°ì²´ë¥¼ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ìë™ìœ¼ë¡œ DI í•´ì¤€ë‹¤.


### 1. @Autowired ì‚¬ìš©ì¡°ê±´

1. @Autowired ì• ë…¸í…Œì´ì…˜ì€ **ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜** ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

1. **ë¹ˆ(Bean)**ì— ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.

1. **íƒ€ì…**ì´ ì¼ì¹˜í•´ì•¼ í•œë‹¤.(ë‹¤í˜•ì„± ì ìš©)

1. ë™ì¼í•œ íƒ€ì…ì˜ ë¹ˆ(Bean)ì´ ë‘ ê°œ ì´ìƒ ìˆë‹¤ë©´, **ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ëª… == ë¹ˆ(Bean)ì´ë¦„** ì´ì–´ì•¼ í•œë‹¤.

1. ìœ„ì˜ ì¡°ê±´ì´ ë§ì§€ ì•Šì„ ì‹œ, ì˜ˆì™¸ê°€ ë°œìƒëœë‹¤.


### 2. @Autowired ë™ì‘ ìˆœì„œ

1. **@Autowired**ê°€ ì„¤ì •ëœ ì¸ìŠ¤í„´ìŠ¤ì˜ ë³€ìˆ˜ì™€ ë™ì¼í•œ **íƒ€ì…**ì˜ **ë¹ˆ(Bean)**ì„ ì°¾ëŠ”ë‹¤.

1. ì°¾ì€ íƒ€ì…ì´ 1ê°œ ë¼ë©´, DI í•´ì¤€ë‹¤.

1. ì°¾ì€ íƒ€ì…ì´ 2ê°œ ì´ìƒì´ë¼ë©´, **ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ëª…**ê³¼ ë™ì¼í•œ **ë¹ˆ(Bean)ì´ë¦„**ì„ ì°¾ëŠ”ë‹¤.

1. ìˆë‹¤ë©´, DI í•´ì¤€ë‹¤.

1. ì—†ë‹¤ë©´, ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.


### 3. @Autowired ì‚¬ìš© ì‹œ,

1. í…ŒìŠ¤íŠ¸ì— í•„ìš”í•˜ë‹¤ë©´, ì• í”Œë¦¬ì¼€ì´ì…˜ í´ë˜ìŠ¤ì™€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ê°€ **ë†’ì€ ê²°í•©ë„**ë¥¼ ê°€ì ¸ë„ ìƒê´€ì—†ë‹¤.

1. ìœ„ì˜ ì´ìœ ê°€ ì•„ë‹ˆë¼ë©´, í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë„ **ë‚®ì€ ê²°í•©ë„**ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´, ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤.


### 4. ApplicationContextê°ì²´ì˜ @Autowired

* **ApplicationContext** íƒ€ì… ê°ì²´ë¥¼ ìƒì„±í•˜ë©´, ìê¸° ìì‹ ì„ **ë¹ˆ(Bean)**ìœ¼ë¡œ ë“±ë¡í•´ ì¤€ë‹¤.

* ìœ„ì˜ ì´ìœ ë•Œë¬¸ì—, XMLì— ì„¤ì •í•˜ì§€ ì•Šì€ **ApplicationContext** ê°ì²´ê°€ **@Autowired**ë¡œ DIí•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.


---


## ğŸ« JUnit - í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìœ„í•œ ìˆ˜ë™ DI

* **ë¹ˆ(Bean)**ì€ ìƒì„±ëœ í›„, ì˜ì¡´ê´€ê³„ë¥¼ ë³€ê²½í•´ì„  ì•Šë˜ì§€ë§Œ, í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” ê°•ì œë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

* **@DirtiesContext** ì• ë…¸í…Œì´ì…˜ì„ í´ë˜ìŠ¤ì— ì‚¬ìš©í•˜ë©´, í•´ë‹¹ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ëª¨ë“  **@Test**ëŠ” DIê°€ ë³€ê²½ëœ ìƒíƒœë¡œ í…ŒìŠ¤íŠ¸ ëœë‹¤.

* ì‹¤ì œ ìš´ìš©DBì˜ DataSourceì—ì„œ í…ŒìŠ¤íŠ¸ìš©DB DataSourceë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ìƒí™© ë“±ì—ì„œ ìœ ìš©í•˜ë‹¤.

* **@DirtiesContext**ëŠ” í…ŒìŠ¤íŠ¸ ë‚´ì—ì„œ DIë¥¼ ê°•ì œë¡œ ë°”ê¾¸ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

* **@DirtiesContext**ë¥¼ ì‚¬ìš©í•  ê²½ìš°, í•´ë‹¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ëŠ” ë¬´ì¡°ê±´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•œë‹¤.

    (**@RunWith**ì™€ **@ContextConfiguration**ì„ ë¬´ì‹œí•˜ì—¬, ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê¸° ìœ„í•¨ì´ë‹¤.)

* ë§Œì•½ íŠ¹ì • **@Test** ë©”ì„œë“œë§Œ ìˆ˜ë™ DIë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, ë©”ì„œë“œì— **@DirtiesContext**ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ë‚«ë‹¤.

* **@DirtiesContext**ëŠ” ì¥ì ë³´ë‹¤ëŠ” **ë‹¨ì ì´ ë” ë§ì€** ë°©ë²•ì´ë‹¤.

### ë‹¨ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ DI ë³€ê²½ì´ë¼ë©´, ì„¤ì •XMLì„ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ í•˜ë‚˜ ë” ë§Œë“¤ì–´ ì‚¬ìš©í•˜ì (@DirtiesContextê°€ í•„ìš”ì—†ë‹¤)


### í…ŒìŠ¤íŠ¸ ë°©ë²• ì„ íƒ

* í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ í”½ìŠ¤ì²˜(fixture)ê°€ ë‹¨ìˆœí•˜ë‹¤ë©´, **ì»¨í…Œì´ë„ˆ ì—†ì´** ìˆ˜í–‰í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ ê°€ì¥ ì¢‹ë‹¤.

    ì´ìœ ëŠ” í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ì†ë„ê°€ ê°€ì¥ ë¹ ë¥´ê³ , í…ŒìŠ¤íŠ¸ê°€ ê°„ê²°í•˜ê¸° ë•Œë¬¸ì´ë‹¤.


---


## ğŸ« JUnit - ìš”ì•½

* í…ŒìŠ¤íŠ¸ ì£¼ë„(TDD)ê°œë°œì€ ì‹ ë¢°ë„ë¥¼ ë³´ì¥í•˜ëŠ” í”„ë¡œê·¸ë¨ ì‘ì„±ì„ ê°€ëŠ¥ì¼€ í•œë‹¤.

* í…ŒìŠ¤íŠ¸ ë°©ë²•

    1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•œ ë°©ë²•

        1. **@RunWith**, **@ContextConfiguration** ì„ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ (DIê°€ ë³µì¡í•  ê²½ìš°)

        1. 1ë²ˆì— **@DirtiesContext**ë¥¼ ì‚¬ìš©í•œ ìˆ˜ë™ID ë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ (ë§¤ìš° íŠ¹ë³„í•œ ê²½ìš°ì—ë§Œ)

    1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ë²• (ì§ì ‘ DIë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ì‹ - ë‹¨ìˆœí•˜ë©° ê°€ì¥ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ì‹œê°„)


---


## ğŸ« JUnit - í•™ìŠµ í…ŒìŠ¤íŠ¸

> ìì‹ ì´ ë§Œë“ ê²ƒì´ ì•„ë‹Œ í”„ë ˆì„ì›Œí¬ ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒ

### 1. í•™ìŠµ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ëª©ì 

* ìì‹ ì´ ì‚¬ìš©í•  API ë˜ëŠ” í”„ë ˆì„ì›Œí¬ì˜ ê¸°ëŠ¥ì„ **í…ŒìŠ¤íŠ¸**ë¥¼ í†µí•´ì„œ **ì‚¬ìš©ë°©ë²•ì„ ìµíˆëŠ” ê²ƒ** ì´ë‹¤.

* **í•™ìŠµ í…ŒìŠ¤íŠ¸**ë¥¼ ì‘ì„±í•¨ìœ¼ë¡œì¨ ìì‹ ì´ ê°€ì§„ ê¸°ìˆ ì— ëŒ€í•œ **ì§€ì‹(ìˆ™ë ¨ë„)ê²€ì¦**ë„ í•  ìˆ˜ ìˆë‹¤.

* ê°œë°œ ë„ì¤‘ì— **í•™ìŠµ í…ŒìŠ¤íŠ¸**ë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆë‹¤. (í”„ë¡œì íŠ¸ì˜ í…ŒìŠ¤íŠ¸ íŒ¨í‚¤ì§€ì— ìœ„ì¹˜ì‹œí‚¤ë©´ ì ì ˆí•˜ë‹¤.)

* í˜¸í™˜ì„± ê²€ì¦ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

* í…ŒìŠ¤íŠ¸ ì‘ì„±ì— ëŒ€í•œ í›ˆë ¨ì´ ëœë‹¤.

* ìƒˆë¡œìš´ ê¸°ìˆ ì˜ ê³µë¶€ë¥¼ ì‹¤ìŠµê³¼ ë³‘í–‰í•  ìˆ˜ ìˆë‹¤.

* í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” **assertThat()**ì— ì‚¬ìš©í•˜ëŠ” **matcher** ë©”ì„œë“œë¥¼ ì•Œì•„ë‘ì.


---


## ğŸ« JUnit - Matcher

### í•„ìš”í•œ import

> * import static org.junit.Assert.*
>
> * import static org.junit.matchers.JUnitMatchers.*
>
> * import static org.hamcrest.CoreMatchers.*


### assertThat(ëŒ€ìƒ, Matcher)

> * ëŒ€ìƒì˜ ê²°ê³¼ê°€ **Matcher**ì˜ ê²°ê³¼ì™€ ë™ì¼í•  ê²½ìš°, ì„±ê³µ


### assertTrue(ì¡°ê±´)

> * ì¡°ê±´ì´ **true**ì¼ ê²½ìš°, ì„±ê³µ


### is(ì¸ìê°’)

> * í˜•ì‹ : assertThat(ëŒ€ìƒ, is(ì¸ìê°’))
>
> * ëŒ€ìƒê³¼ ì¸ìê°’ì„ **equals()** ë¹„êµë¥¼ í•˜ì—¬ ê°™ìœ¼ë©´ ì„±ê³µ
>
> * ëŒ€ìƒê³¼ ì¸ìê°’ì´ **ê°™ì€ íƒ€ì…**ì´ë¼ë©´, ì–´ë–¤ê°’ì´ë“  ê²€ì¦í•  ìˆ˜ ìˆë‹¤.
>
> * import : ``import static org.hamcrest.CoreMatchers.is;``


### is(Matcher)

> * ì¸ì Matcheê°€ ì°¸ì¼ ê²½ìš°, ì„±ê³µ


### is(not(ì¸ìê°’))

> * ëŒ€ìƒê³¼ ì¸ìê°’ì˜ **equals()** ê°€ ê±°ì§“ì¼ ê²½ìš°, ì„±ê³µ
>
> * import : ``import static org.hamcrest.CoreMatchers.not;``


### is(sameInstance(ì¸ìê°’))

> * ëŒ€ìƒê³¼ ì¸ìê°’ì˜ ê°ì²´ê°€ ë™ì¼í•  ê²½ìš°, ì„±ê³µ
>
> * import : ``import static org.hamcrest.CoreMatchers.sameInstance;``


### is(not(sameInstance(ì¸ìê°’)))

> * ëŒ€ìƒê³¼ ì¸ìê°’ì˜ ê°ì²´ê°€ ë™ì¼í•˜ì§€ ì•Šì„ ê²½ìš°, ì„±ê³µ


### is(hasItem(ì¸ìê°’))

> * assertThat(<Collectioníƒ€ì…>ëŒ€ìƒ, is(hasItem(ì¸ìê°’))) ì˜ í˜•íƒœ
>
> * ì»¬ë ‰ì…˜ì˜ **ì›ì†Œì¼ ê²½ìš°**, ì„±ê³µ
>
> * import : ``import static org.junit.matchers.JUnitMatchers.hasItem;``


### not(hasItem(ì¸ìê°’))

> * assertThat(<Collectioníƒ€ì…>ëŒ€ìƒ, not(hasItem(ì¸ìê°’))) ì˜ í˜•íƒœ
>
> * ì»¬ë ‰ì…˜ì˜ **ì›ì†Œê°€ ì•„ë‹ ê²½ìš°**, ì„±ê³µ


### either(Matcher_1).or(Matcher_2)

> * í˜•ì‹ : assertThat(ëŒ€ìƒ, either(Matcher_1).or(Matcher_2))
>
> * ëŒ€ìƒì´ **either(ì¸ìê°’1)** ì´ **Matcher_1**ì´ê±°ë‚˜, **Matcher_2**ì¼ ê²½ìš°, ì„±ê³µ
>
>   (**either()** ë©”ì„œë“œì™€ **or()** ë©”ì„œë“œë¥¼ ORì¡°ê±´ìœ¼ë¡œ ë¹„êµí•˜ëŠ” ë°©ë²•)
>
> * import : ``import static org.junit.matchers.JUnitMatchers.either;``


### nullValue()

> * í˜•ì‹ : assertThat(ëŒ€ìƒ, is(nullValue()))
>
> * ëŒ€ìƒì´ **null**ì¼ ê²½ìš°, ì„±ê³µ