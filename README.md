# 토비의 스프링 1권

# 1장. 오브젝트와 의존관계

## 리펙토링 하기

> 관심사항 분리하기
	
### 1. 중복코드의 메서드 추출
            
    다른 관심사와 분리하여, 변경에 대한 영향력을 줄일 수 있다.
            

### 2. 상속을 통한 확장 (추상 클래스로 만들기)
            
**템플릿 메서드 패턴** : 슈퍼클래스에 기본적인 로직의 흐름을 만들고, 그 기능의 일부를 추상 메서드로 만드는 방법

        템플릿 메서드 패턴에서 추상 메서드를 훅(hook) 메서드라고 한다
            
**팩토리 메서드 패턴** : 서브 클래스에서 구체적인 오브젝트 생성 방법을 결정하게 하는 방법


### 3. 인터페이스를 사용한 책임 분리

    객체 생성의 책임을 외부로 위임함으로써 강한 결합을 해소할 수 있다.


### 4. 전략 패턴

    변경이 자주 생기는 알고리즘을 인터페이스의 추상 메서드로 만듦으로써 필요에 따라 바꿔서 사용할 수 있게 하는 디자인 패턴

    즉, 전략을 바꿔가며 사용한다는 의미 (해당 전략은 생성자의 인자로 지정해 주는게 일반적)


## 원칙과 패턴

> 유연한 설계를 위한 원칙과 패턴

### 1. 단일 책임 원칙

    메서드, 클래스, 컴포넌트는 한가지 기능만 수행하도록 만들어야 한다.


### 2. 개방 폐쇄 원칙

    클래스나 모듈은 **확장**에는 열려 있어야 하고, **변경**에는 닫혀 있어야 한다.


### 3. 리스코프 치환 원칙

    상속관계 시, 서브타입은 기반타입으로 교체할 수 있어야만 한다.

        예) 
        
        사각형 클래스는 가로, 세로 변수값을 가진다.

        정사각형 클래스는 길이 변수값 하나만 가진다.

        그러므로, 정사각형 클래스가 사각형 클래스를 상속받으면, 리스코프 치환 원칙을 위반하게 된다.

    즉, **서브 클래스 is 기반 클래스** 를 지키자는 의미 (상속관계 원칙)


### 4. 인터페이스 분리 원칙

    클라이언트는 자신이 사용하지 않는 메서드에는 의존관계를 맺으면 안된다.


### 5. 의존관계 역전 원칙

    의존관계를 맺을 때, 변하기 쉬운 것 보다 **변하기 어려운 것에 의존하라**는 원칙이다. 